# 交接记录模板

本文档定义了每个任务完成后追加到 TASK_STATUS.md 的交接记录格式。

---

## 交接记录格式

每个任务执行完成后，在 TASK_STATUS.md 的"交接记录"章节末尾追加以下格式的记录块：

```markdown
---

#### [<PREFIX>-XX] <任务标题> — 交接记录

**完成时间**: YYYY-MM-DD

**完成内容**:
- 具体完成了什么（结果导向，非过程描述）
- 列出关键变更点

**修改的文件**:
- `path/to/file1` — 变更说明
- `path/to/file2` — 变更说明

**验证结果**:
- 编译: ✅ 通过 / ❌ 失败（附错误信息）
- 测试: ✅ 通过 / ❌ 失败（附失败用例）/ ⚠️ 无测试
- 功能: ✅ 符合验收标准 / ⚠️ 部分满足（说明）

**关键决策**:
- 决策点 1：选择了方案 A 而非方案 B，原因是...
- （如果执行过程中无需做决策，标注"无"）

**计划变更**:
- （如果执行中触发了计划调整）变更内容和原因
- （如果无变更，标注"无"）

**下一任务**: <PREFIX>-XX <任务标题>

**下一任务需关注**:
- 关注点 1（具体、可操作的提示）
- 关注点 2

**遗留问题**:
- 问题 1（描述 + 建议处理方式）
- （如果没有遗留问题，标注"无"）
```

---

## 填写指南

### 完成内容
- 描述**结果**而非过程
- 好的："DataModel 接口已提取到 IDataModel.h，包含 15 个 getter/setter 虚函数"
- 差的："按照步骤 1-4 执行了修改"

### 修改的文件
- 列出所有实际修改或新增的文件
- 每个文件附带简要变更说明
- 如果删除了文件，也需要记录

### 验证结果
- 必须如实记录验证状态
- 如果某项未验证，标注原因
- 失败的项目必须附带错误信息或失败原因

### 关键决策
- 记录执行过程中做出的非平凡决策
- 包括选择了什么方案、放弃了什么方案、原因是什么
- 这些信息对后续会话理解"为什么这样做"至关重要

### 计划变更
- 如果执行过程中发现需要调整计划（新增/删除/修改/拆分任务），在此记录
- 说明变更内容和触发原因
- 对应的 TASK_PLAN.md 更新应已同步完成

### 下一任务关注点
- 为下一个任务的执行者提供具体的注意事项
- 好的："DataModel.h 第 42 行的 TODO 注释需要在 R-05 中处理"
- 差的："注意代码质量"

### 遗留问题
- 执行过程中发现但未处理的问题
- 每个问题附带建议的处理方式
- 如果建议创建新任务，提供任务的初步描述

---

## TASK_STATUS.md 中的位置

交接记录追加在 TASK_STATUS.md 的如下位置：

```markdown
# 任务状态跟踪

## 进度总览
...

## 任务状态
...

## 已知问题
...

## 决策日志
...

## 交接记录

（每次 /task-exec 完成后在此追加）

---

#### [R-01] 创建-项目脚手架 — 交接记录
...

---

#### [R-02] 统一-构建配置 — 交接记录
...
```
